<section id="gallery">
    <mat-toolbar color="primary">
        <button mat-icon-button (click)="fileInput.click()" class="transparent-button"
            *ngIf="currentUser && currentUser.group != 'estoquista'">
            Adicionar Imagem
        </button>
        <span>Galeria de Imagens</span>
        <button mat-icon-button (click)="closeModal()" class="save-button">
            Salvar
        </button>
    </mat-toolbar>
    <div class="input">
        <input type="file" #fileInput style="display: none" (change)="uploadFiles($event)" multiple>
        <div *ngFor="let image of newProduct.images; let i = index">
            <div class="image-container">
                <img src="{{image}}" alt="product" style="width: 300px; height: 300px;" class="gallery-image">
                <div class="image-buttons" *ngIf="currentUser && currentUser.group != 'estoquista'">
                    <button mat-icon-button (click)="deleteImage(image)">
                        <mat-icon>delete</mat-icon>
                    </button>
                    <button mat-icon-button (click)="setImageDefault(image)"
                        [ngClass]="{'selected': image === newProduct.image_default}">
                        <mat-icon>star</mat-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>
</section>
